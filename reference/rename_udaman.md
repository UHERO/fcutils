# Format series names to udaman format (mnemonic@loc.freq)

Format series names to udaman format (mnemonic@loc.freq)

## Usage

``` r
rename_udaman(ser_in, freq = NULL)
```

## Arguments

- ser_in:

  series names (character "mnemonic_loc", "mnemonic_AT_loc_freq",
  "mnemonic\_\_loc_freq", mnemonic@loc.freq")

- freq:

  frequency of the series, required if not contained in the series name
  (character "D", "W", "M", "Q", "S", "A")

## Value

series names following udaman convention "mnemonic@loc.freq"

## Examples

``` r
rename_udaman(c("E_NF_HI", "ECT_HI", "E_TU_HAW"), freq = "M")
#> [1] "E_NF@HI.M"  "ECT@HI.M"   "E_TU@HAW.M"
rename_udaman(c("E_NF__HI_M", "ECT__HI_M", "VAP__HAW_W"))
#> [1] "E_NF@HI.M" "ECT@HI.M"  "VAP@HAW.W"
rename_udaman(c("E_NF_AT_HI_M", "ECT_AT_HI_M", "VAP_AT_HAW_W"))
#> [1] "E_NF@HI.M" "ECT@HI.M"  "VAP@HAW.W"
rename_udaman(c("E_NF@HI.M", "ECT@HI.M", "VAP@HAW.W"))
#> [1] "E_NF@HI.M" "ECT@HI.M"  "VAP@HAW.W"
rename_udaman(c("SH_US@HI.M", "SH_JP__HON_M"))
#> [1] "SH_US@HI.M" "SH_JP@JP.M"
rename_udaman(c("E_NF_HI5", "ECT__HIALL", "E_TU@CNTY"), freq = "M")
#>  [1] "E_NF@HI.M"  "E_NF@HON.M" "E_NF@HAW.M" "E_NF@MAU.M" "E_NF@KAU.M"
#>  [6] "ECT@HI.M"   "ECT@HON.M"  "ECT@HAW.M"  "ECT@MAU.M"  "ECT@KAU.M" 
#> [11] "ECT@MAUI.M" "ECT@MOL.M"  "ECT@LAN.M"  "E_TU@HON.M" "E_TU@HAW.M"
#> [16] "E_TU@MAU.M" "E_TU@KAU.M"
rename_udaman(c("E_NF_HI5 , ECT__HIALL  E_TU@CNTY", "VAP_HAW ; ECT_HON"), freq = "M")
#>  [1] "E_NF@HI.M"  "E_NF@HON.M" "E_NF@HAW.M" "E_NF@MAU.M" "E_NF@KAU.M"
#>  [6] "ECT@HI.M"   "ECT@HON.M"  "ECT@HAW.M"  "ECT@MAU.M"  "ECT@KAU.M" 
#> [11] "ECT@MAUI.M" "ECT@MOL.M"  "ECT@LAN.M"  "E_TU@HON.M" "E_TU@HAW.M"
#> [16] "E_TU@MAU.M" "E_TU@KAU.M" "VAP@HAW.M"  "ECT@HON.M" 
quarterly_data_example |> dplyr::rename_with(~ rename_udaman(., freq = "M"), .cols = -1)
#> # A tibble: 109 × 31
#>    time       `E_NF@HI.M` `ECT@HI.M` `EMN@HI.M` `EWT@HI.M` `ERT@HI.M`
#>    <date>           <dbl>      <dbl>      <dbl>      <dbl>      <dbl>
#>  1 1998-01-01        531.       23.3       15.9       15.9       65.2
#>  2 1998-04-01        531.       23.0       15.8       15.9       64.6
#>  3 1998-07-01        533.       23.0       15.8       15.9       64.2
#>  4 1998-10-01        531.       23.1       15.8       16         64.2
#>  5 1999-01-01        530.       22.8       15.8       15.8       64.1
#>  6 1999-04-01        533.       22.9       15.9       15.8       64.8
#>  7 1999-07-01        537.       22.9       16.1       15.8       65.1
#>  8 1999-10-01        541.       23.3       16.3       16.0       65.9
#>  9 2000-01-01        544.       24.3       16.3       16.2       66.0
#> 10 2000-04-01        551.       25.0       16.4       16.2       66.0
#> # ℹ 99 more rows
#> # ℹ 25 more variables: `E_TRADE@HI.M` <dbl>, `E_TU@HI.M` <dbl>,
#> #   `ETWTANS@HI.M` <dbl>, `ETWNS@HI.M` <dbl>, `EUT@HI.M` <dbl>,
#> #   `EIF@HI.M` <dbl>, `EFI@HI.M` <dbl>, `E_FIR@HI.M` <dbl>, `ERE@HI.M` <dbl>,
#> #   `EPS@HI.M` <dbl>, `E_PBS@HI.M` <dbl>, `E_ELSE@HI.M` <dbl>,
#> #   `EMA@HI.M` <dbl>, `EAD@HI.M` <dbl>, `EED@HI.M` <dbl>, `EHC@HI.M` <dbl>,
#> #   `EAF@HI.M` <dbl>, `EAFAC@HI.M` <dbl>, `EAFFD@HI.M` <dbl>, …
quarterly_data_example |> dplyr::rename_with(rename_udaman, freq = "M", .cols = !time)
#> # A tibble: 109 × 31
#>    time       `E_NF@HI.M` `ECT@HI.M` `EMN@HI.M` `EWT@HI.M` `ERT@HI.M`
#>    <date>           <dbl>      <dbl>      <dbl>      <dbl>      <dbl>
#>  1 1998-01-01        531.       23.3       15.9       15.9       65.2
#>  2 1998-04-01        531.       23.0       15.8       15.9       64.6
#>  3 1998-07-01        533.       23.0       15.8       15.9       64.2
#>  4 1998-10-01        531.       23.1       15.8       16         64.2
#>  5 1999-01-01        530.       22.8       15.8       15.8       64.1
#>  6 1999-04-01        533.       22.9       15.9       15.8       64.8
#>  7 1999-07-01        537.       22.9       16.1       15.8       65.1
#>  8 1999-10-01        541.       23.3       16.3       16.0       65.9
#>  9 2000-01-01        544.       24.3       16.3       16.2       66.0
#> 10 2000-04-01        551.       25.0       16.4       16.2       66.0
#> # ℹ 99 more rows
#> # ℹ 25 more variables: `E_TRADE@HI.M` <dbl>, `E_TU@HI.M` <dbl>,
#> #   `ETWTANS@HI.M` <dbl>, `ETWNS@HI.M` <dbl>, `EUT@HI.M` <dbl>,
#> #   `EIF@HI.M` <dbl>, `EFI@HI.M` <dbl>, `E_FIR@HI.M` <dbl>, `ERE@HI.M` <dbl>,
#> #   `EPS@HI.M` <dbl>, `E_PBS@HI.M` <dbl>, `E_ELSE@HI.M` <dbl>,
#> #   `EMA@HI.M` <dbl>, `EAD@HI.M` <dbl>, `EED@HI.M` <dbl>, `EHC@HI.M` <dbl>,
#> #   `EAF@HI.M` <dbl>, `EAFAC@HI.M` <dbl>, `EAFFD@HI.M` <dbl>, …
quarterly_data_example |>
  tsbox::ts_long() |>
  dplyr::mutate(id = rename_udaman(id, freq = "M")) |>
  tsbox::ts_xts()
#>            E_NF.HI.M ECT.HI.M EMN.HI.M EWT.HI.M ERT.HI.M E_TRADE.HI.M E_TU.HI.M
#> 1998-01-01  530.5066 23.26007 15.89295 15.86667 65.16667     81.02675  27.89353
#> 1998-04-01  531.2062 22.99386 15.75995 15.93333 64.63333     80.56048  27.86049
#> 1998-07-01  532.6954 23.00466 15.80416 15.90000 64.23333     80.13792  27.60437
#> 1998-10-01  531.4825 23.05090 15.78369 16.00000 64.20000     80.21748  27.31709
#> 1999-01-01  529.5065 22.79374 15.76008 15.76667 64.06667     79.82681  27.02653
#> 1999-04-01  533.2071 22.85970 15.92639 15.83333 64.80000     80.62619  27.42608
#> 1999-07-01  537.3354 22.93125 16.13119 15.83333 65.13333     80.96447  27.56433
#> 1999-10-01  541.2599 23.30654 16.27311 16.03333 65.93333     81.97333  27.90644
#> 2000-01-01  544.4418 24.25813 16.25795 16.23333 66.03333     82.25813  27.95794
#> 2000-04-01  551.0984 25.00150 16.43449 16.23333 66.03333     82.26830  28.13478
#>        ...                                                                     
#> 2022-10-01  627.5995 37.60062 12.79947 17.36667 65.13333     82.50045  33.90010
#> 2023-01-01  631.2647 38.06845 12.76853 17.43333 65.53333     82.96855  34.60143
#> 2023-04-01  633.7569 38.07620 12.74316 17.36667 65.60000     82.97644  34.84305
#> 2023-07-01  632.2179 38.01554 12.64927 17.33333 65.50000     82.81541  34.28188
#> 2023-10-01  631.8120 38.25490 12.72149 17.36667 64.73333     82.08804  34.05475
#> 2024-01-01  636.9010 38.86558 12.79852 17.40000 64.70000     82.09895  34.13249
#> 2024-04-01  636.4715 39.16158 12.76212 17.36667 64.56667     81.96187  34.19497
#> 2024-07-01  639.7316 39.56811 12.83472 17.33333 64.46667     81.80178  34.76830
#> 2024-10-01  643.2565 39.11035 12.97680 17.33333 64.93333     82.27684  34.64429
#> 2025-01-01  647.9022 39.39811 13.16324 17.26667 65.06667     82.39776  34.86439
#>            ETWTANS.HI.M ETWNS.HI.M EUT.HI.M  EIF.HI.M EFI.HI.M E_FIR.HI.M
#> 1998-01-01     9.966667   25.00000 2.788513 11.266667 17.82698   29.99365
#> 1998-04-01    10.033333   25.06667 2.785210 11.466667 17.79390   29.99390
#> 1998-07-01    10.133333   24.86667 2.759606 11.533333 18.23770   30.37103
#> 1998-10-01    10.000000   24.70000 2.730886 11.666667 18.15065   30.31732
#> 1999-01-01     9.733333   24.20000 2.655123 11.400000 17.82687   29.99354
#> 1999-04-01     9.966667   24.73333 2.694376 11.300000 17.59304   29.85971
#> 1999-07-01    10.166667   24.90000 2.707957 11.633333 17.33112   29.46446
#> 1999-10-01    10.266667   25.30000 2.741566 11.700000 17.17354   29.30687
#> 2000-01-01    10.400000   25.16667 2.641112 11.700000 16.35838   28.89172
#> 2000-04-01    10.566667   25.53333 2.657818 12.500000 16.10183   28.73516
#>        ...                                                               
#> 2022-10-01     9.600000   30.50000 3.730634  9.500000 15.53389   27.83389
#> 2023-01-01     9.733333   30.90000 3.718962  9.166667 15.60200   27.93533
#> 2023-04-01     9.800000   31.03333 3.744932  8.400000 15.54324   27.84324
#> 2023-07-01     9.866667   30.43333 3.684617  7.966667 15.48214   27.71547
#> 2023-10-01    10.000000   30.53333 3.660205  7.800000 15.48811   27.52144
#> 2024-01-01     9.900000   30.40000 3.624616  8.000000 15.33236   27.39902
#> 2024-04-01     9.800000   30.33333 3.631251  8.333333 15.36181   27.36181
#> 2024-07-01     9.766667   31.00000 3.692134  8.100000 15.46837   27.53504
#> 2024-10-01     9.733333   31.43333 3.678966  8.233333 15.51032   27.44366
#> 2025-01-01     9.666667   31.16667 3.672123  8.333333 15.59766   27.63100
#>            ERE.HI.M EPS.HI.M E_PBS.HI.M E_ELSE.HI.M EMA.HI.M EAD.HI.M EED.HI.M
#> 1998-01-01 12.16667 19.13333   54.43333    108.2732 6.300000 29.00000 10.50000
#> 1998-04-01 12.20000 19.03333   54.46667    109.0044 6.300000 29.13333 10.76667
#> 1998-07-01 12.13333 19.10000   54.56667    109.3400 6.300000 29.16667 10.90000
#> 1998-10-01 12.16667 19.00000   54.23333    109.2626 6.200000 29.03333 10.90000
#> 1999-01-01 12.16667 18.86667   54.46667    109.2389 6.133333 29.46667 10.96667
#> 1999-04-01 12.26667 19.10000   55.20000    109.9756 6.100000 30.00000 10.90000
#> 1999-07-01 12.13333 18.96667   55.70000    111.1130 6.000000 30.73333 11.10000
#> 1999-10-01 12.13333 19.26667   57.03333    112.8269 6.033333 31.73333 11.06667
#> 2000-01-01 12.53333 19.70000   57.53333    114.2514 5.833333 32.00000 11.40000
#> 2000-04-01 12.63333 20.10000   58.46667    115.9576 5.933333 32.43333 11.23333
#>        ...                                                                    
#> 2022-10-01 12.30000 26.46667   71.63333    134.6980 8.700000 36.46667 14.53333
#> 2023-01-01 12.33333 26.63333   71.83333    134.8889 8.700000 36.50000 14.33333
#> 2023-04-01 12.30000 26.73333   72.03333    134.2748 8.866667 36.43333 14.30000
#> 2023-07-01 12.23333 26.80000   71.86667    133.7401 8.666667 36.40000 14.40000
#> 2023-10-01 12.03333 26.93333   71.50000    132.9713 8.633333 35.93333 14.16667
#> 2024-01-01 12.06667 27.13333   72.40000    134.7068 8.733333 36.53333 14.43333
#> 2024-04-01 12.00000 27.03333   71.96667    134.7623 8.766667 36.16667 14.46667
#> 2024-07-01 12.06667 26.96667   72.33333    135.7234 8.866667 36.50000 14.60000
#> 2024-10-01 11.93333 26.66667   72.30000    136.4385 8.900000 36.73333 14.83333
#> 2025-01-01 12.03333 26.50000   71.93333    136.9146 8.900000 36.53333 15.00000
#>            EHC.HI.M  EAF.HI.M EAFAC.HI.M EAFFD.HI.M EOS.HI.M EGV.HI.M
#> 1998-01-01 46.36006  86.16001   38.50504   47.65497 21.76667 111.6333
#> 1998-04-01 47.02706  86.22704   38.00830   48.21874 21.86667 111.7667
#> 1998-07-01 47.73769  85.77119   37.43768   48.33351 21.86667 112.9333
#> 1998-10-01 47.95061  85.95071   37.57050   48.38021 21.90000 111.6667
#> 1999-01-01 47.52673  85.92682   37.67086   48.25596 21.83333 111.4000
#> 1999-04-01 48.22615  86.62616   37.57837   49.04779 21.96667 111.6667
#> 1999-07-01 48.46438  86.36453   36.85660   49.50793 22.00000 114.3333
#> 1999-10-01 48.60656  87.80663   38.14595   49.66067 22.36667 113.2667
#> 2000-01-01 48.79129  88.12472   38.04955   50.07517 22.66667 113.6333
#> 2000-04-01 49.23484  89.70143   38.71541   50.98601 22.86667 115.6333
#>        ...                                                           
#> 2022-10-01 73.13368 103.90050   38.43284   65.46766 26.40000 121.2333
#> 2023-01-01 73.43512 105.36841   39.11966   66.24875 26.60000 121.2333
#> 2023-04-01 74.04299 106.00985   39.27910   66.73075 26.46667 122.9667
#> 2023-07-01 74.54872 105.08213   38.99957   66.08256 26.36667 123.3333
#> 2023-10-01 74.78809 104.68805   39.02842   65.65963 26.46667 124.7000
#> 2024-01-01 75.29888 106.06552   39.75368   66.31184 26.53333 125.5333
#> 2024-04-01 75.49516 105.72856   39.66495   66.06361 26.73333 125.1000
#> 2024-07-01 75.90180 106.26848   39.55293   66.71556 26.86667 125.3333
#> 2024-10-01 76.11043 107.47670   39.55486   67.92184 27.20000 126.8000
#> 2025-01-01 77.63098 107.86431   40.38685   67.47747 27.76667 128.1667
#>            EGVFD.HI.M EGVST.HI.M EGVSTEDNS.HI.M EGVLC.HI.M
#> 1998-01-01   30.49350   64.40000       42.96667   16.73333
#> 1998-04-01   30.36060   64.60000       44.46667   16.80000
#> 1998-07-01   30.30494   65.43333       35.86667   17.20000
#> 1998-10-01   30.35102   64.60000       43.13333   16.73333
#> 1999-01-01   30.26032   64.43333       43.06667   16.70000
#> 1999-04-01   30.12639   64.93333       44.73333   16.60000
#> 1999-07-01   30.43099   67.13333       36.90000   16.76667
#> 1999-10-01   30.47358   66.16667       44.50000   16.63333
#> 2000-01-01   30.69142   66.33333       43.90000   16.60000
#> 2000-04-01   31.93489   67.03333       46.00000   16.66667
#>        ...                                                
#> 2022-10-01   34.76727   67.90000       48.23333   18.56667
#> 2023-01-01   34.80196   67.86667       47.10000   18.56667
#> 2023-04-01   35.04320   69.23333       49.06667   18.70000
#> 2023-07-01   35.18213   69.36667       43.10000   18.76667
#> 2023-10-01   35.32140   70.63333       50.20000   18.73333
#> 2024-01-01   35.69895   70.96667       49.56667   18.86667
#> 2024-04-01   35.72842   70.46667       49.76667   18.93333
#> 2024-07-01   35.73507   70.66667       43.90000   18.93333
#> 2024-10-01   35.61030   72.00000       51.06667   19.20000
#> 2025-01-01   35.36442   73.56667       51.83333   19.30000
```
